import{p as $,j as y,r as f,d as F}from"./index-K0HcDb5Z.js";import{B as O}from"./BackgroundImage-BkADFRte.js";const D=({title:t,image:n})=>y.jsxs(H,{className:"banner",children:[y.jsx("h1",{children:t}),y.jsx(O,{img:n})]}),H=$.section`
  position: relative;
  height: 50vh;
  width: 100%;
  overflow: hidden;

  h1 {
    width: 100%;
    padding: 0.5rem;
    background-color: rgba(0, 0, 0, 0.3);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding-inline: 5vw;
    font-family: "Dancing Script", cursive;
    font-size: clamp(5rem, 10vw, 7rem);
    text-align: center;
    line-height: 0.9;
    color: var(--contrast);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: 50% 50%;
  }
`;function v({width:t,height:n}){return t/n}function C(t,n=0){const e=10**n;return Math.round((t+Number.EPSILON)*e)/e}function q(t){return(n,e)=>t(e)-t(n)}class V{constructor(n){this.comparator=n,this.heap=[],this.n=0}greater(n,e){return this.comparator(this.heap[n],this.heap[e])<0}swap(n,e){const o=this.heap[n];this.heap[n]=this.heap[e],this.heap[e]=o}swim(n){let e=n,o=Math.floor(e/2);for(;e>1&&this.greater(o,e);)this.swap(o,e),e=o,o=Math.floor(e/2)}sink(n){let e=n,o=e*2;for(;o<=this.n&&(o<this.n&&this.greater(o,o+1)&&(o+=1),!!this.greater(e,o));)this.swap(e,o),e=o,o=e*2}push(n){this.n+=1,this.heap[this.n]=n,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const n=this.heap.pop();return this.sink(1),n}size(){return this.n}}function K(t,n,e){const o=new Map,r=new Set,s=new Map;s.set(n,0);const c=new V(q(i=>i.weight));for(c.push({id:n,weight:0});c.size()>0;){const{id:i,weight:a}=c.pop();if(!r.has(i)){const l=t(i);r.add(i),l.forEach((u,h)=>{const p=a+u,d=o.get(h),m=s.get(h);(m===void 0||m>p&&(m/p>1.005||d!==void 0&&d<i))&&(s.set(h,p),c.push({id:h,weight:p}),o.set(h,i))})}}return s.has(e)?o:void 0}function Q(t,n){const e=[];for(let o=n;o!==void 0;o=t.get(o))e.push(o);return e.reverse()}function T(t,n,e){const o=K(t,n,e);return o?Q(o,e):void 0}function U({photos:t,targetRowHeight:n,containerWidth:e}){const o=t.reduce((r,s)=>Math.min(v(s),r),Number.MAX_VALUE);return C(e/n/o)+2}function A(t,n,e,o){const r=n-(t.length-1)*e-2*o*t.length,s=t.reduce((c,i)=>c+v(i),0);return r/s}function X(t,n,e,o,r,s,c){const i=t.slice(n,e),a=A(i,o,s,c);return a>0?(a-r)**2*i.length:void 0}function J({photos:t,layoutOptions:n,targetRowHeight:e,limitNodeSearch:o,rowConstraints:r}){return s=>{var c,i;const{containerWidth:a,spacing:l,padding:u}=n,h=new Map;h.set(s,0);const p=(c=r==null?void 0:r.minPhotos)!=null?c:1,d=Math.min(o,(i=r==null?void 0:r.maxPhotos)!=null?i:1/0);for(let m=s+p;m<t.length+1&&!(m-s>d);m+=1){const g=X(t,s,m,a,e,l,u);if(g===void 0)break;h.set(m,g)}return h}}function Y({photos:t,layoutOptions:n}){const{spacing:e,padding:o,containerWidth:r,targetRowHeight:s,rowConstraints:c}=n,i=U({photos:t,containerWidth:r,targetRowHeight:s}),a=J({photos:t,layoutOptions:n,targetRowHeight:s,limitNodeSearch:i,rowConstraints:c}),l=T(a,0,t.length);if(l===void 0)return;const u=[];for(let h=1;h<l.length;h+=1){const p=t.map((m,g)=>({photo:m,index:g})).slice(l[h-1],l[h]),d=A(p.map(({photo:m})=>m),r,e,o);u.push(p.map(({photo:m,index:g},w)=>({photo:m,layout:{height:d,width:d*v(m),index:g,photoIndex:w,photosCount:p.length}})))}return u}function b(...t){return[...t].filter(n=>!!n).join(" ")}function I(t,{width:n,photosCount:e},{spacing:o,padding:r,containerWidth:s}){const c=o*(e-1)+2*r*e;return`calc((${t} - ${c}px) / ${C((s-c)/n,5)})`}function Z(t,n){return n.layout!=="rows"?`calc(100% - ${2*n.padding}px)`:I("100%",t,n)}function N(t,n,e){var o,r;return I((r=(o=t.match(/^\s*calc\((.*)\)\s*$/))==null?void 0:o[1])!=null?r:t,n,e)}function tt(t,n,e){let o,r;const s=t.srcSet||t.images;return s&&s.length>0&&(o=s.concat(s.find(({width:c})=>c===t.width)?[]:[{src:t.src,width:t.width,height:t.height}]).sort((c,i)=>c.width-i.width).map(c=>`${c.src} ${c.width}w`).join(", ")),e.sizes?r=(e.sizes.sizes||[]).map(({viewport:c,size:i})=>`${c} ${N(i,n,e)}`).concat(N(e.sizes.size,n,e)).join(", "):o&&(r=`${Math.ceil(n.width/e.containerWidth*100)}vw`),{srcSet:o,sizes:r}}function W(t){var n,e;const{photo:o,layout:r,layoutOptions:s,imageProps:{style:c,className:i,...a}={},renderPhoto:l}=t,{onClick:u}=s,h={display:"block",boxSizing:"content-box",width:Z(r,s),height:"auto",aspectRatio:`${o.width} / ${o.height}`,...s.padding?{padding:`${s.padding}px`}:null,...(s.layout==="columns"||s.layout==="masonry")&&r.photoIndex<r.photosCount-1?{marginBottom:`${s.spacing}px`}:null,...u?{cursor:"pointer"}:null,...c},p=u?w=>{u({event:w,photo:o,index:r.index})}:void 0,d={src:o.src,alt:(n=o.alt)!=null?n:"",title:o.title,onClick:p,style:h,className:b("react-photo-album--photo",i),loading:"lazy",decoding:"async",...tt(o,r,s),...a},m=w=>{const{src:R,alt:M,srcSet:P,sizes:E,style:k,...j}=d;return f.createElement("img",{alt:M,...P?{srcSet:P,sizes:E}:null,src:R,style:w!=null&&w.wrapped?{display:"block",width:"100%",height:"100%"}:k,...j})},g=(({display:w,boxSizing:R,width:M,aspectRatio:P,padding:E,marginBottom:k,cursor:j})=>({display:w,boxSizing:R,width:M,aspectRatio:P,padding:E,marginBottom:k,cursor:j}))(h);return f.createElement(f.Fragment,null,(e=l==null?void 0:l({photo:o,layout:r,layoutOptions:s,imageProps:d,renderDefaultPhoto:m,wrapperStyle:g}))!=null?e:m())}function et({rowContainerProps:t,children:n}){return f.createElement("div",{...t},n)}function nt(t){const{layoutOptions:n,rowIndex:e,rowsCount:o,renderRowContainer:r,rowContainerProps:{style:s,className:c,...i}={},children:a}=t,l={className:b("react-photo-album--row",c),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...e<o-1?{marginBottom:`${n.spacing}px`}:null,...s},...i};return f.createElement(f.Fragment,null,(r??et)({layoutOptions:n,rowIndex:e,rowsCount:o,rowContainerProps:l,children:a}))}function ot(t){const{photos:n,layoutOptions:e,renderPhoto:o,renderRowContainer:r,componentsProps:{imageProps:s,rowContainerProps:c}}=t,i=Y({photos:n,layoutOptions:e});return i?f.createElement(f.Fragment,null,i.map((a,l)=>f.createElement(nt,{key:`row-${l}`,layoutOptions:e,rowIndex:l,rowsCount:i.length,renderRowContainer:r,rowContainerProps:c},a.map(({photo:u,layout:h})=>f.createElement(W,{key:u.key||u.src,photo:u,layout:h,layoutOptions:e,renderPhoto:o,imageProps:s}))))):null}function rt(t,n,e,o){const r=new Map,s=new Set;s.add(e);for(let c=0;c<n;c+=1){const i=[...s.keys()];s.clear(),i.forEach(a=>{const l=c>0?r.get(a)[c].weight:0;t(a).forEach(({neighbor:u,weight:h})=>{let p=r.get(u);p||(p=[],r.set(u,p));const d=l+h,m=p[c+1];(!m||m.weight>d&&(m.weight/d>1.0001||a<m.node))&&(p[c+1]={node:a,weight:d}),c<n-1&&u!==o&&s.add(u)})})}return r}function st(t,n,e){const o=[e];for(let r=e,s=n;s>0;s-=1)r=t.get(r)[s].node,o.push(r);return o.reverse()}function it(t,n,e,o){return st(rt(t,n,e,o),n,o)}function ct({photos:t,spacing:n,padding:e,targetColumnWidth:o,targetColumnHeight:r}){return s=>{const c=[],i=r*1.5;let a=o/v(t[s])+2*e;for(let l=s+1;l<t.length+1&&(c.push({neighbor:l,weight:(r-a)**2}),!(a>i||l===t.length));l+=1)a+=o/v(t[l])+n+2*e;return c}}function z({path:t,photos:n,containerWidth:e,columnsGaps:o,columnsRatios:r,spacing:s,padding:c}){const i=[],a=r.reduce((l,u)=>l+u,0);for(let l=0;l<t.length-1;l+=1){const u=n.map((d,m)=>({photo:d,index:m})).slice(t[l],t[l+1]),h=r.reduce((d,m,g)=>d+(o[l]-o[g])*m,0),p=(e-(t.length-2)*s-2*(t.length-1)*c-h)*r[l]/a;i.push(u.map(({photo:d,index:m},g)=>({photo:d,layout:{width:p,height:p/v(d),index:m,photoIndex:g,photosCount:u.length}})))}return i}function at({photos:t,layoutOptions:n,targetColumnWidth:e}){const{columns:o,spacing:r,padding:s,containerWidth:c}=n,i=[],a=[];if(t.length<=o){const d=t.length>0?t.reduce((g,w)=>g+v(w),0)/t.length:1;for(let g=0;g<o;g+=1)i[g]=2*s,a[g]=g<t.length?v(t[g]):d;const m=z({path:Array.from({length:o+1}).map((g,w)=>Math.min(w,t.length)),photos:t,columnsRatios:a,columnsGaps:i,containerWidth:c,spacing:r,padding:s});return{columnsGaps:i,columnsRatios:a,columnsModel:m}}const l=(t.reduce((d,m)=>d+e/v(m),0)+r*(t.length-o)+2*s*t.length)/o,u=ct({photos:t,targetColumnWidth:e,targetColumnHeight:l,spacing:r,padding:s}),h=it(u,o,0,t.length);for(let d=0;d<h.length-1;d+=1){const m=t.slice(h[d],h[d+1]);i[d]=r*(m.length-1)+2*s*m.length,a[d]=1/m.reduce((g,w)=>g+1/v(w),0)}const p=z({path:h,photos:t,columnsRatios:a,columnsGaps:i,containerWidth:c,spacing:r,padding:s});return{columnsGaps:i,columnsRatios:a,columnsModel:p}}function L(t){const{photos:n,layoutOptions:e}=t,{columns:o,spacing:r,padding:s,containerWidth:c}=e,i=(c-r*(o-1)-2*s*o)/o,{columnsGaps:a,columnsRatios:l,columnsModel:u}=at({photos:n,layoutOptions:e,targetColumnWidth:i});return u.findIndex(h=>h.findIndex(({layout:{width:p,height:d}})=>p<0||d<0)>=0)>=0?o>1?L({photos:n,layoutOptions:{...e,columns:o-1}}):void 0:{columnsModel:u,columnsGaps:a,columnsRatios:l}}function lt({photos:t,layoutOptions:n}){return L({photos:t,layoutOptions:n})}function ut({columnContainerProps:t,children:n}){return f.createElement("div",{...t},n)}function dt(t){const{layoutOptions:n,columnIndex:e,columnsCount:o,columnsGaps:r,columnsRatios:s}=t,{layout:c,spacing:i,padding:a}=n;if(c==="masonry"||!r||!s)return`calc((100% - ${i*(o-1)}px) / ${o})`;const l=s.reduce((h,p)=>h+p,0),u=s.reduce((h,p,d)=>h+(r[e]-r[d])*p,0);return`calc((100% - ${C((o-1)*i+2*o*a+u,3)}px) * ${C(s[e]/l,5)} + ${2*a}px)`}function G(t){const{layoutOptions:n,renderColumnContainer:e,children:o,columnContainerProps:{style:r,className:s,...c}={},...i}=t,a={className:b("react-photo-album--column",s),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:dt(t),justifyContent:n.layout==="columns"?"space-between":"flex-start",...r},...c};return f.createElement(f.Fragment,null,(e??ut)({layoutOptions:n,columnContainerProps:a,children:o,...i}))}function ht(t){const{photos:n,layoutOptions:e,renderPhoto:o,renderColumnContainer:r,componentsProps:{imageProps:s,columnContainerProps:c}}=t,i=lt({photos:n,layoutOptions:e});if(!i)return null;const{columnsModel:a,columnsRatios:l,columnsGaps:u}=i;return f.createElement(f.Fragment,null,a.map((h,p)=>f.createElement(G,{key:`column-${p}`,layoutOptions:e,columnIndex:p,columnsCount:a.length,columnsGaps:u,columnsRatios:l,renderColumnContainer:r,columnContainerProps:c},h.map(({photo:d,layout:m})=>f.createElement(W,{key:d.key||d.src,photo:d,layout:m,layoutOptions:e,renderPhoto:o,imageProps:s})))))}function _(t){const{photos:n,layoutOptions:e}=t,{columns:o,spacing:r,padding:s,containerWidth:c}=e,i=(c-r*(o-1)-2*s*o)/o;if(i<=0)return o>1?_({...t,layoutOptions:{...e,columns:o-1}}):void 0;const a=[];for(let u=0;u<o;u+=1)a[u]=0;return n.reduce((u,h,p)=>{const d=a.reduce((m,g,w)=>g<a[m]-1?w:m,0);return a[d]=a[d]+i/v(h)+r+2*s,u[d].push({photo:h,index:p}),u},Array.from({length:o}).map(()=>[])).map(u=>u.map(({photo:h,index:p},d)=>({photo:h,layout:{width:i,height:i/v(h),index:p,photoIndex:d,photosCount:u.length}})))}function mt(t){const{photos:n,layoutOptions:e,renderPhoto:o,renderColumnContainer:r,componentsProps:{imageProps:s,columnContainerProps:c}}=t,i=_({photos:n,layoutOptions:e});return i?f.createElement(f.Fragment,null,i.map((a,l)=>f.createElement(G,{key:`masonry-column-${l}`,layoutOptions:e,columnsCount:i.length,columnIndex:l,renderColumnContainer:r,columnContainerProps:c},a.map(({photo:u,layout:h})=>f.createElement(W,{key:u.key||u.src,photo:u,layout:h,layoutOptions:e,renderPhoto:o,imageProps:s}))))):null}function pt({containerProps:t,children:n,containerRef:e}){return f.createElement("div",{ref:e,...t},n)}function ft(t){const{layout:n,renderContainer:e,children:o,containerRef:r,containerProps:{style:s,className:c,...i}={}}=t,a={className:b("react-photo-album",`react-photo-album--${n}`,c),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:n==="rows"?"column":"row",...s},...i};return f.createElement(f.Fragment,null,(e??pt)({containerProps:a,containerRef:r,layout:n,children:o}))}function gt(t){const n=f.useRef(t);return(!t||!n.current||t.join()!==n.current.join())&&(n.current=t),n.current}function wt(t,{newContainerWidth:n,newScrollbarWidth:e}){const{containerWidth:o,scrollbarWidth:r}=t;return o!==void 0&&r!==void 0&&n!==void 0&&e!==void 0&&n>o&&n-o<=20&&e<r?{containerWidth:o,scrollbarWidth:e}:o!==n||r!==e?{containerWidth:n,scrollbarWidth:e}:t}function yt(t,n){let e=t==null?void 0:t.clientWidth;if(e!==void 0&&n&&n.length>0){const o=[...n.filter(s=>s>0)].sort((s,c)=>c-s);o.push(Math.floor(o[o.length-1]/2));const r=e;e=o.find((s,c)=>s<=r||c===o.length-1)}return e}function vt(t,n){const[{containerWidth:e},o]=f.useReducer(wt,{containerWidth:n}),r=f.useRef(null),s=f.useRef();return{containerRef:f.useCallback(i=>{var a;(a=s.current)==null||a.disconnect(),s.current=void 0,r.current=i;const l=()=>o({newContainerWidth:yt(r.current,t),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});l(),i&&typeof ResizeObserver<"u"&&(s.current=new ResizeObserver(l),s.current.observe(i))},[t]),containerWidth:e}}const Pt=Object.freeze([1200,600,300,0]);function S(t,n){return typeof t=="function"?t(n):t}function B(t,n){return typeof t<"u"?S(t,n):void 0}function xt(t,n){const e=Pt.findIndex(o=>o<=n);return S(t[e>=0?e:0],n)}function x(t,n,e,o=0){const r=B(t,n);return Math.round(Math.max(r===void 0?xt(e,n):r,o))}function Ct({layout:t,onClick:n,containerWidth:e,targetRowHeight:o,rowConstraints:r,columns:s,spacing:c,padding:i,sizes:a}){return{layout:t,onClick:n,containerWidth:e,columns:x(s,e,[5,4,3,2],1),spacing:x(c,e,[20,15,10,5]),padding:x(i,e,[0,0,0,0,0]),targetRowHeight:x(o,e,[l=>l/5,l=>l/4,l=>l/3,l=>l/2]),rowConstraints:B(r,e),sizes:a}}function bt(t,n,e){const{photos:o,componentsProps:r}=t,s=S(r,n)||{};if(e){const{layout:c,spacing:i,padding:a,rowConstraints:l}=e;if(c==="rows"){const{singleRowMaxHeight:u}=l||{};if(u){const h=Math.floor(o.reduce((p,{width:d,height:m})=>p+d/m*u-2*a,a*o.length*2+i*(o.length-1)));h>0&&(s.containerProps=s.containerProps||{},s.containerProps.style={maxWidth:h,...s.containerProps.style})}}}return s}function Rt(t,n,e){const{photos:o,layout:r,renderPhoto:s,renderRowContainer:c,renderColumnContainer:i}=t,a={photos:o,renderPhoto:s,componentsProps:n};return r==="rows"?f.createElement(ot,{layoutOptions:e,renderRowContainer:c,...a}):r==="columns"?f.createElement(ht,{layoutOptions:e,renderColumnContainer:i,...a}):f.createElement(mt,{layoutOptions:e,renderColumnContainer:i,...a})}function Mt(t){const{photos:n,layout:e,renderContainer:o,defaultContainerWidth:r,breakpoints:s}=t,{containerRef:c,containerWidth:i}=vt(gt(s),r);if(!e||!["rows","columns","masonry"].includes(e)||!Array.isArray(n))return null;const a=i?Ct({containerWidth:i,...t}):void 0,l=bt(t,i,a);return f.createElement(ft,{layout:e,containerRef:c,renderContainer:o,containerProps:l.containerProps},a&&Rt(t,l,a))}const Et=F,kt=t=>new Promise(n=>{const e=new Image;e.onload=()=>{n({width:e.width,height:e.height})},e.src=t}),jt=async t=>await Promise.all(t.images.map(async e=>{const{width:o,height:r}=await kt(`${t.path}/thumbnail/${e.lowRes}`);return{src:`${t.path}/thumbnail/${e.lowRes}`,width:o,height:r,alt:e.id,title:e.author}})),$t=Et.albums.map(t=>({id:t.id,title:t.title,photos:jt(t)})),Wt=()=>{const[t]=f.useState($t[0]),[n,e]=f.useState([]);return f.useEffect(()=>{(async()=>{const r=await t.photos;e(r)})()},[t]),y.jsx(St,{children:y.jsx(Mt,{layout:"masonry",photos:n})})},St=$.section`
  width: 100%;
  max-width: calc(1260px + (2 * 5vw));
  padding-inline: 5vw;
`,It=()=>y.jsxs(Nt,{children:[y.jsx(D,{title:"Cérémonie civile",image:"./photos/Ceremonie-civile/hd/MariageKE_Ceremonie-civile_44.jpg"}),y.jsxs("section",{className:"infosContainer",children:[y.jsxs("a",{href:"#",className:"actionBtn",title:"album précédent",children:[y.jsx("i",{className:"fa-solid fa-chevron-left"}),"Wedshoots"]}),y.jsxs("a",{href:"#",className:"actionBtn",title:"album suivant",children:["Cérémonie laïque",y.jsx("i",{className:"fa-solid fa-chevron-right"})]})]}),y.jsx(Wt,{})]}),Nt=$.main`
  .infosContainer {
    width: 100%;
    height: clamp(50px, 5vw, 100px);
    max-width: calc(1260px + (2 * 5vw));
    padding-inline: 5vw;

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;

    .actionBtn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
      font-weight: 500;
      i {
        font-size: 1.3rem;
      }

      &:hover {
        color: var(--secondColor);
        transition: color 250ms ease-in-out;
        i {
          color: var(--secondColor);
          transition: color 250ms ease-in-out;
        }
      }
    }
  }
`;export{It as default};
